#include "gaussian_kernel.h"

#include <cstring>

namespace {

const float k2DGaussianKernel[] = {
    0.000215, 0.000376, 0.000602, 0.000886, 0.001197, 0.001484, 0.001688,
    0.001762, 0.001688, 0.001484, 0.001197, 0.000886, 0.000602, 0.000376,
    0.000215, 0.000376, 0.000656, 0.001053, 0.001549, 0.002092, 0.002593,
    0.002950, 0.003079, 0.002950, 0.002593, 0.002092, 0.001549, 0.001053,
    0.000656, 0.000376, 0.000602, 0.001053, 0.001688, 0.002484, 0.003356,
    0.004159, 0.004731, 0.004939, 0.004731, 0.004159, 0.003356, 0.002484,
    0.001688, 0.001053, 0.000602, 0.000886, 0.001549, 0.002484, 0.003657,
    0.004939, 0.006122, 0.006963, 0.007269, 0.006963, 0.006122, 0.004939,
    0.003657, 0.002484, 0.001549, 0.000886, 0.001197, 0.002092, 0.003356,
    0.004939, 0.006671, 0.008268, 0.009405, 0.009818, 0.009405, 0.008268,
    0.006671, 0.004939, 0.003356, 0.002092, 0.001197, 0.001484, 0.002593,
    0.004159, 0.006122, 0.008268, 0.010249, 0.011658, 0.012169, 0.011658,
    0.010249, 0.008268, 0.006122, 0.004159, 0.002593, 0.001484, 0.001688,
    0.002950, 0.004731, 0.006963, 0.009405, 0.011658, 0.013261, 0.013842,
    0.013261, 0.011658, 0.009405, 0.006963, 0.004731, 0.002950, 0.001688,
    0.001762, 0.003079, 0.004939, 0.007269, 0.009818, 0.012169, 0.013842,
    0.014450, 0.013842, 0.012169, 0.009818, 0.007269, 0.004939, 0.003079,
    0.001762, 0.001688, 0.002950, 0.004731, 0.006963, 0.009405, 0.011658,
    0.013261, 0.013842, 0.013261, 0.011658, 0.009405, 0.006963, 0.004731,
    0.002950, 0.001688, 0.001484, 0.002593, 0.004159, 0.006122, 0.008268,
    0.010249, 0.011658, 0.012169, 0.011658, 0.010249, 0.008268, 0.006122,
    0.004159, 0.002593, 0.001484, 0.001197, 0.002092, 0.003356, 0.004939,
    0.006671, 0.008268, 0.009405, 0.009818, 0.009405, 0.008268, 0.006671,
    0.004939, 0.003356, 0.002092, 0.001197, 0.000886, 0.001549, 0.002484,
    0.003657, 0.004939, 0.006122, 0.006963, 0.007269, 0.006963, 0.006122,
    0.004939, 0.003657, 0.002484, 0.001549, 0.000886, 0.000602, 0.001053,
    0.001688, 0.002484, 0.003356, 0.004159, 0.004731, 0.004939, 0.004731,
    0.004159, 0.003356, 0.002484, 0.001688, 0.001053, 0.000602, 0.000376,
    0.000656, 0.001053, 0.001549, 0.002092, 0.002593, 0.002950, 0.003079,
    0.002950, 0.002593, 0.002092, 0.001549, 0.001053, 0.000656, 0.000376,
    0.000215, 0.000376, 0.000602, 0.000886, 0.001197, 0.001484, 0.001688,
    0.001762, 0.001688, 0.001484, 0.001197, 0.000886, 0.000602, 0.000376,
    0.000215
};

}

namespace vcsmc {

Halide::Runtime::Buffer<float, 2> MakeGaussianKernel() {
  Halide::Runtime::Buffer<float, 2> kernel(15, 15);
  std::memcpy(kernel.begin(), k2DGaussianKernel, sizeof(float) * 15 * 15);
  return kernel;
}

}  // namespace vcsmc

